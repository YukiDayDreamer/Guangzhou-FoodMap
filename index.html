<!DOCTYPE html> 
<html>
    <head>
        <meta name="viewport" content="user-scalable=no, width=device-width, height=device-height, initial-scale=1, maximum-scale=1">
        <meta charset="utf-8">
        <title>A Bit of Guangzhou (广州美食地图)</title>
        <link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/bootstrap/3.3.5/css/bootstrap.min.css">
        <link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/semantic-ui/2.1.8/semantic.min.css">
        <link rel="stylesheet" type="text/css" href="css/style.css">

    </head>
    <body>
        <!-- Loading Page -->
        <div id="loadingScreen" class="ui active dimmer">
            <div id="loadingText" class="ui text loader">食材准备中...</div>
        </div>
        <!-- Menu -->
        <div id="menu" class="ui fixed menu icon four buttons teal">
            <div class="ui top right pointing combo dropdown button" id="menu-areas">
                <i class="tags icon"></i> 商圈
                <div class="menu">
                    <div class="item active selected"> 暂未开放 </div>
                    <div class="disabled item"> 上下九 </div>
                    <div class="disabled item"> 北京路 </div>
                    <div class="disabled item"> 体育中心 </div>
                </div>
            </div>
            <div class="ui top left pointing dropdown button" id="menu-list">
                <i class="list icon"></i> 列表
            </div>
            <div class="ui top left pointing dropdown button" id="menu-map">
                <i class="map icon"></i> 地图
            </div>
            <div class="ui top left pointing dropdown button" id="menu-details">
                <i class="info circle icon"></i> 详情
            </div>
        </div>

        <!-- Content -->
        <div class="pages" id="pages">
            <div class="page" id="pageList">
                <div id="listContainer">
                </div>
            </div>
            <div class="page" id="pageMap">
                <div id="map"></div>
                <div id="summaryContainer">
                    <!-- slider -->
                    <div id="summaryPanes" class="panes wrapper"></div>
                </div>
                <!--</div>-->
            </div>
            <div class="page" id="pageDetails">
<!--                <div id="details-submenu" class="submenu fixed">
                    <button class="ui left floated button">上一个</button>
                    <button class="ui right floated button">下一个</button>
                </div>-->
                <div id="detailsContainer"></div>
            </div>
        </div>
        <!--</div>-->


        <!-- Scripts -->

        <!-- Third Party Libs -->
        <!-- jQuery -->
        <script src="http://lib.sinaapp.com/js/jquery/1.9.1/jquery-1.9.1.min.js"></script>
        <!--Bootstrap 核心 JavaScript 文件--> 
        <script src="//cdn.bootcss.com/bootstrap/3.3.5/js/bootstrap.min.js"></script>
        <!-- Semantic UI -->
        <script src="//cdn.bootcss.com/semantic-ui/2.1.8/semantic.min.js"></script>
        <!-- Google Maps -->
        <script 
            src="http://maps.google.cn/maps/api/js?key=AIzaSyAO9lTKIiNT6vVJiAnNZ-JiGyMDgbPeZfA&signed_in=false&libraries=visualization,places">
        </script>
        <!-- d3 -->
        <script src="//cdn.bootcss.com/d3/4.1.0/d3.js" charset="utf-8"></script>
        <!-- Hammer -->
        <script src="js/lib/hammer.min.js"></script>
        <!-- Layer -->
        <script src="js/lib/layer/layer/layer.js"></script>
        <!-- Clamp -->
        <script src="js/lib/clamp.min.js"></script>

        <!-- Custom Scripts -->
        <!-- Utilities -->
        <script src="js/main/utilities.js"></script>
        <!-- DOM operation -->
        <script src="js/main/dom.js"></script>
        <!-- Map -->
        <script src="js/main/map.js"></script>
        <!-- List -->
        <script src="js/main/list.js"></script>
        <!-- Summary -->
        <script src="js/main/summary.js"></script>
        <!-- Details -->
        <script src="js/main/details.js"></script>
        <!-- UI -->
        <script src="js/main/UI.js"></script>
        <!-- Event Handler-->
        <script src="js/main/event-handler.js"></script>

        <!-- Initialize -->
        <script>
                $(document).ready(function () {
                    $('#loadingText').text(loadingText());

                    // load feature data
                    $.ajax({
                        type: 'GET',
                        url: './php/main/read.php',
                    }).done(function (data) {
                        rows = eval(data);
                        eventHandler(rows);
                        $('#loadingScreen').removeClass("active");
                        $('#loadingScreen').removeClass("dimmer");
                    });
                });
        </script>
    </body>
</html>
